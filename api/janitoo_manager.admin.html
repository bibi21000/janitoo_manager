<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>janitoo_manager.admin package &#8212; janitoo_manager 0.0.8 documentation</title>
    
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinxcontrib-images/LightBox2/lightbox2/css/lightbox.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.0.8',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/sphinxcontrib-images/LightBox2/lightbox2/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/sphinxcontrib-images/LightBox2/lightbox2/js/lightbox.min.js"></script>
    <script type="text/javascript" src="../_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          janitoo_manager</a>
        <span class="navbar-text navbar-version pull-left"><b>0.0.8</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../tools/index.html">Tools</a></li>
                <li><a href="index.html">Reference</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../using_doc.html"> Using documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../using_doc.html#the-header">The header</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="janitoo-manager-admin-package">
<h1>janitoo_manager.admin package<a class="headerlink" href="#janitoo-manager-admin-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="janitoo-manager-admin-socket-module">
<h2>janitoo_manager.admin.socket module<a class="headerlink" href="#janitoo-manager-admin-socket-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="janitoo-manager-admin-views-module">
<h2>janitoo_manager.admin.views module<a class="headerlink" href="#janitoo-manager-admin-views-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-janitoo_manager.admin">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-janitoo_manager.admin" title="Permalink to this headline">¶</a></h2>
<p>The sockets</p>
<p>Needed commands :
surname mynane : Send the surname of the client. Not unique. Whould be sent on connect by the client.
join network|nodes|... : join the room and get a json of it
refresh network|nodes|... : get a json of it of the room
leave network|nodes|... : leave the room
users network|nodes|... : get users of the room
event network|nodes|... : generated by the listener (from notification)</p>
<p>When joining a room, whe should listen to notifications for the room on the listener.
When leaving and if there is no one else in it, stop listening to notifications.
On client disconnect, it must leave all rooms.
A client should give a surname</p>
<p>The listener must be started when the fist client connects. Otherwise it causes an error :</p>
<p>..code: text</p>
<blockquote>
<div><p>127.0.0.1 - - [2015-04-22 02:12:01] &#8220;GET /socket.io/?EIO=3&amp;transport=polling&amp;t=1429661521726-0 HTTP/1.1&#8221; 500 161 0.002877
Traceback (most recent call last):</p>
<blockquote>
<div><dl class="docutils">
<dt>File &#8220;/usr/local/lib/python2.7/dist-packages/gevent/pywsgi.py&#8221;, line 508, in handle_one_response</dt>
<dd>self.run_application()</dd>
<dt>File &#8220;/usr/local/lib/python2.7/dist-packages/gevent/pywsgi.py&#8221;, line 494, in run_application</dt>
<dd>self.result = self.application(self.environ, self.start_response)</dd>
<dt>File &#8220;/usr/local/lib/python2.7/dist-packages/flask_socketio/__init__.py&#8221;, line 27, in __call__</dt>
<dd>raise RuntimeError(&#8216;You need to use a gevent-socketio server.&#8217;)</dd>
</dl>
</div></blockquote>
<p>RuntimeError: You need to use a gevent-socketio server.
{&#8216;GATEWAY_INTERFACE&#8217;: &#8216;CGI/1.1&#8217;,</p>
<blockquote>
<div>&#8216;HTTP_ACCEPT&#8217;: &#8216;<em>/</em>&#8216;,
&#8216;HTTP_ACCEPT_ENCODING&#8217;: &#8216;gzip, deflate, compress&#8217;,
&#8216;HTTP_HOST&#8217;: &#8216;localhost:5000&#8217;,
&#8216;HTTP_USER_AGENT&#8217;: &#8216;python-requests/2.2.1 CPython/2.7.6 Linux/3.13.0-48-generic&#8217;,
&#8216;PATH_INFO&#8217;: &#8216;/socket.io/&#8217;,
&#8216;QUERY_STRING&#8217;: &#8216;EIO=3&amp;transport=polling&amp;t=1429661522751-0&#8217;,
&#8216;REMOTE_ADDR&#8217;: &#8216;127.0.0.1&#8217;,
&#8216;REMOTE_PORT&#8217;: &#8216;36776&#8217;,
&#8216;REQUEST_METHOD&#8217;: &#8216;GET&#8217;,
&#8216;SCRIPT_NAME&#8217;: &#8216;&#8217;,
&#8216;SERVER_NAME&#8217;: &#8216;localhost&#8217;,
&#8216;SERVER_PORT&#8217;: &#8216;5000&#8217;,
&#8216;SERVER_PROTOCOL&#8217;: &#8216;HTTP/1.1&#8217;,
&#8216;SERVER_SOFTWARE&#8217;: &#8216;gevent/1.0 Python/2.7&#8217;,
&#8216;wsgi.errors&#8217;: &lt;open file &#8216;&lt;stderr&gt;&#8217;, mode &#8216;w&#8217; at 0x7fbf3164c1e0&gt;,
&#8216;wsgi.input&#8217;: &lt;gevent.pywsgi.Input object at 0x7fbf28dc6310&gt;,
&#8216;wsgi.multiprocess&#8217;: False,
&#8216;wsgi.multithread&#8217;: False,
&#8216;wsgi.run_once&#8217;: False,
&#8216;wsgi.url_scheme&#8217;: &#8216;http&#8217;,
&#8216;wsgi.version&#8217;: (1, 0)} failed with RuntimeError</div></blockquote>
</div></blockquote>
<p>Thinking about rooms.
- A room for the network : state,
- A room for nodes : list, add, remove, ...
- A room for each nodes (nodeid_1): values, parameters, ...
- A room for the controller
- A room for values</p>
<p>When joining a room, you will receive message from it.</p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2014,2015,2016 Sébastien GALLET aka bibi2100 &lt;bibi21000@gmail.com&gt;.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>